<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Data Analysis Agent ‚Äî Adithya Reddy</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Outfit:wght@300;400;500;600&family=JetBrains+Mono:wght@400&display=swap" rel="stylesheet"/>
<style>
  :root{--bg:#F8F7F3;--white:#FFFFFF;--navy:#1A1F36;--gold:#B8965A;--border:#DDD9CF;--muted:#7A7A7A;--text:#2C2C2C;--tag-bg:#EDE9DF;}
  *,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);}
  .topbar{background:var(--white);border-bottom:1px solid var(--border);padding:0 2rem;height:56px;display:flex;align-items:center;justify-content:space-between;}
  .topbar-back{font-size:0.8rem;color:var(--muted);text-decoration:none;transition:color 0.2s;}
  .topbar-back:hover{color:var(--navy);}
  .topbar-title{font-family:'Cormorant Garamond',serif;font-size:1.1rem;font-weight:600;color:var(--navy);}
  .topbar-tag{background:var(--tag-bg);color:var(--gold);font-size:0.7rem;font-weight:600;letter-spacing:0.1em;text-transform:uppercase;padding:0.3rem 0.8rem;border-radius:100px;}
  .layout{display:grid;grid-template-columns:300px 1fr;min-height:calc(100vh - 56px);}
  .sidebar{background:var(--white);border-right:1px solid var(--border);padding:1.5rem;display:flex;flex-direction:column;gap:1.25rem;}
  .slabel{font-size:0.68rem;font-weight:600;letter-spacing:0.15em;text-transform:uppercase;color:var(--muted);margin-bottom:0.6rem;}

  .upload-zone{border:2px dashed var(--border);border-radius:8px;padding:1.5rem;text-align:center;cursor:pointer;transition:border-color 0.2s;}
  .upload-zone:hover{border-color:var(--gold);}
  .upload-zone .uz-icon{font-size:1.5rem;margin-bottom:0.4rem;}
  .upload-zone p{font-size:0.78rem;color:var(--muted);}

  .csv-preview{background:var(--bg);border-radius:8px;overflow:hidden;border:1px solid var(--border);}
  .csv-table{width:100%;border-collapse:collapse;font-size:0.68rem;}
  .csv-table th{background:var(--tag-bg);padding:0.4rem 0.6rem;text-align:left;font-weight:600;color:var(--navy);border-bottom:1px solid var(--border);}
  .csv-table td{padding:0.4rem 0.6rem;border-bottom:1px solid var(--border);color:var(--text);}
  .csv-table tr:last-child td{border:none;}

  .q-input{width:100%;border:1px solid var(--border);border-radius:8px;padding:0.65rem 0.85rem;font-size:0.82rem;font-family:'Outfit',sans-serif;resize:none;outline:none;min-height:80px;transition:border-color 0.2s;}
  .q-input:focus{border-color:var(--gold);}
  .analyse-btn{width:100%;background:var(--navy);color:white;border:none;padding:0.75rem;border-radius:8px;font-size:0.85rem;font-weight:600;font-family:'Outfit',sans-serif;cursor:pointer;transition:background 0.2s;}
  .analyse-btn:hover{background:#2D3561;}

  /* MAIN */
  .main{padding:2rem;overflow-y:auto;display:flex;flex-direction:column;gap:1.5rem;}

  .result-section{background:var(--white);border:1px solid var(--border);border-radius:12px;overflow:hidden;}
  .result-section-header{padding:1rem 1.5rem;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:0.75rem;}
  .result-section-header h3{font-size:0.9rem;font-weight:600;color:var(--navy);}
  .result-section-body{padding:1.5rem;}

  /* CHART AREA */
  .chart-area{position:relative;height:220px;background:var(--bg);border-radius:8px;overflow:hidden;display:flex;align-items:flex-end;gap:3px;padding:1rem 1rem 2rem;}
  .bar{flex:1;background:linear-gradient(to top,var(--gold),var(--gold-light,#D4AF7A));border-radius:4px 4px 0 0;position:relative;transition:opacity 0.2s;}
  .bar:hover{opacity:0.8;}
  .bar-label{position:absolute;bottom:-1.5rem;left:50%;transform:translateX(-50%);font-size:0.6rem;color:var(--muted);white-space:nowrap;}
  .chart-yaxis{position:absolute;left:0;top:0;bottom:2rem;display:flex;flex-direction:column;justify-content:space-between;padding:0 0.5rem;}
  .chart-yaxis span{font-size:0.6rem;color:var(--muted);}

  /* CODE BLOCK */
  .code-block{background:#1A1F36;border-radius:8px;padding:1rem 1.25rem;font-family:'JetBrains Mono',monospace;font-size:0.72rem;line-height:1.7;color:#C9D1D9;overflow-x:auto;}
  .code-kw{color:#FF7B72;}
  .code-fn{color:#D2A8FF;}
  .code-str{color:#A5D6FF;}
  .code-cm{color:#8B949E;}

  /* INSIGHTS */
  .insight-card{border:1px solid var(--border);border-radius:8px;padding:0.85rem 1rem;margin-bottom:0.5rem;display:flex;gap:0.75rem;align-items:flex-start;}
  .insight-icon{font-size:1.1rem;flex-shrink:0;margin-top:0.1rem;}
  .insight-text{font-size:0.83rem;line-height:1.6;color:var(--text);}
  .insight-text strong{color:var(--navy);}

  /* REPORT */
  .report-text{font-size:0.88rem;line-height:1.8;color:var(--text);}
  .report-text h4{font-family:'Cormorant Garamond',serif;font-size:1.1rem;font-weight:600;color:var(--navy);margin:1rem 0 0.3rem;}

  .badge{display:inline-block;background:var(--tag-bg);color:var(--gold);font-size:0.65rem;font-weight:600;padding:0.2rem 0.5rem;border-radius:100px;margin-left:0.4rem;vertical-align:middle;}
</style>
</head>
<body>

<div class="topbar">
  <a href="index.html" class="topbar-back">‚Üê Back to Portfolio</a>
  <div class="topbar-title">Data Analysis Agent</div>
  <span class="topbar-tag">Project 03</span>
</div>

<div class="layout">

  <div class="sidebar">
    <div>
      <div class="slabel">Upload Dataset</div>
      <div class="upload-zone">
        <div class="uz-icon">üìä</div>
        <p>Drop CSV file here</p>
      </div>
    </div>

    <div>
      <div class="slabel">Loaded: campaign_data.csv <span class="badge">247 rows</span></div>
      <div class="csv-preview">
        <table class="csv-table">
          <thead><tr><th>Campaign</th><th>Spend ‚Çπ</th><th>Leads</th><th>CPL</th></tr></thead>
          <tbody>
            <tr><td>Meta - Oct</td><td>42,000</td><td>312</td><td>134</td></tr>
            <tr><td>Google - Oct</td><td>38,500</td><td>198</td><td>194</td></tr>
            <tr><td>Meta - Nov</td><td>51,000</td><td>447</td><td>114</td></tr>
            <tr><td>Email - Q3</td><td>8,200</td><td>89</td><td>92</td></tr>
            <tr><td>...</td><td>...</td><td>...</td><td>...</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div>
      <div class="slabel">Business Question</div>
      <textarea class="q-input" id="question">Which campaigns performed best last quarter and what drove the cost difference?</textarea>
      <button class="analyse-btn" style="margin-top:0.75rem;" onclick="triggerAnalysis()">‚ñ∂ Analyse with Agent</button>
    </div>
  </div>

  <!-- MAIN RESULTS -->
  <div class="main" id="mainResults">

    <!-- GENERATED CODE -->
    <div class="result-section">
      <div class="result-section-header">
        <span>‚öôÔ∏è</span>
        <h3>Agent-Generated Analysis Code</h3>
        <span class="badge">Executed</span>
      </div>
      <div class="result-section-body">
        <div class="code-block">
<span class="code-kw">import</span> pandas <span class="code-kw">as</span> pd
<span class="code-kw">import</span> matplotlib.pyplot <span class="code-kw">as</span> plt

df = pd.<span class="code-fn">read_csv</span>(<span class="code-str">'campaign_data.csv'</span>)
<span class="code-cm"># Calculate Cost Per Lead and filter last quarter</span>
df[<span class="code-str">'CPL'</span>] = df[<span class="code-str">'spend'</span>] / df[<span class="code-str">'leads'</span>]
df[<span class="code-str">'date'</span>] = pd.<span class="code-fn">to_datetime</span>(df[<span class="code-str">'date'</span>])
last_q = df[df[<span class="code-str">'date'</span>] >= <span class="code-str">'2024-10-01'</span>]

<span class="code-cm"># Rank by CPL (lower = better performance)</span>
ranked = last_q.<span class="code-fn">groupby</span>(<span class="code-str">'campaign'</span>).<span class="code-fn">agg</span>({
    <span class="code-str">'spend'</span>: <span class="code-str">'sum'</span>, <span class="code-str">'leads'</span>: <span class="code-str">'sum'</span>, <span class="code-str">'CPL'</span>: <span class="code-str">'mean'</span>
}).<span class="code-fn">sort_values</span>(<span class="code-str">'CPL'</span>)
        </div>
      </div>
    </div>

    <!-- CHART -->
    <div class="result-section">
      <div class="result-section-header">
        <span>üìä</span>
        <h3>Campaign Performance ‚Äî Cost Per Lead (‚Çπ)</h3>
      </div>
      <div class="result-section-body">
        <div class="chart-area">
          <div class="chart-yaxis">
            <span>200</span><span>150</span><span>100</span><span>50</span><span>0</span>
          </div>
          <div class="bar" style="height:46%"><div class="bar-label">Email Q3</div></div>
          <div class="bar" style="height:57%"><div class="bar-label">Meta Nov</div></div>
          <div class="bar" style="height:67%"><div class="bar-label">Meta Oct</div></div>
          <div class="bar" style="height:78%;background:linear-gradient(to top,#c0a0b0,#d0b0c0)"><div class="bar-label">WhatsApp</div></div>
          <div class="bar" style="height:85%;background:linear-gradient(to top,#c0a0b0,#d0b0c0)"><div class="bar-label">Google Oct</div></div>
          <div class="bar" style="height:92%;background:linear-gradient(to top,#c0a0b0,#d0b0c0)"><div class="bar-label">Display</div></div>
        </div>
      </div>
    </div>

    <!-- INSIGHTS -->
    <div class="result-section">
      <div class="result-section-header"><span>üí°</span><h3>Agent Insights</h3></div>
      <div class="result-section-body">
        <div class="insight-card">
          <div class="insight-icon">üèÜ</div>
          <div class="insight-text"><strong>Email Q3 is the top performer</strong> at ‚Çπ92 CPL ‚Äî 52% below the channel average of ‚Çπ191. Low spend (‚Çπ8,200) but consistently high conversion rate suggests an engaged, warm audience.</div>
        </div>
        <div class="insight-card">
          <div class="insight-icon">üìà</div>
          <div class="insight-text"><strong>Meta improved 15% month-on-month</strong> ‚Äî CPL dropped from ‚Çπ134 in October to ‚Çπ114 in November. Creative refresh and audience narrowing in the Nov campaign likely drove this improvement.</div>
        </div>
        <div class="insight-card">
          <div class="insight-icon">‚ö†Ô∏è</div>
          <div class="insight-text"><strong>Google and Display underperforming</strong> at ‚Çπ194 and ‚Çπ208 CPL respectively. Recommend reducing budget allocation until creative or targeting is optimised.</div>
        </div>
      </div>
    </div>

    <!-- WRITTEN REPORT -->
    <div class="result-section">
      <div class="result-section-header"><span>üìù</span><h3>Auto-Generated Report</h3><span class="badge">Ready to Export</span></div>
      <div class="result-section-body">
        <div class="report-text">
          <h4>Campaign Performance Summary ‚Äî Q4 2024</h4>
          <p>Analysis of 247 campaign records across 6 active channels reveals significant performance variation. Email marketing delivered the strongest unit economics at ‚Çπ92 per lead, while Meta campaigns showed a positive trend with a 15% cost reduction between October and November.</p>
          <h4>Recommendation</h4>
          <p>Reallocate 20‚Äì30% of the Google and Display budget to Email and Meta channels in Q1 2025. Based on current conversion rates, this reallocation is projected to generate an additional 180‚Äì220 qualified leads at the same total spend of ‚Çπ1,39,700.</p>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
function triggerAnalysis() {
  const main = document.getElementById('mainResults');
  const sections = main.querySelectorAll('.result-section');
  sections.forEach((s,i) => {
    s.style.opacity = '0';
    s.style.transform = 'translateY(16px)';
    s.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
    setTimeout(() => { s.style.opacity='1'; s.style.transform='none'; }, i*200);
  });
}
</script>
</body>
</html>
